<!DOCTYPE html>
<html lang="<%= site_lang %>">
  <head>
    <title>
      <%= if content_for?(:title) then yield(:title) + ' - ' end %>
      <%= site_name %>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css", integrity: "sha256-L/W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y=", crossorigin: :anonymous %>
    <%= stylesheet_link_tag 'application', media: 'all' %>
  </head>

  <body class="d-flex flex-column min-vh-100">
    <%= render "layouts/navbar" %>
    <div id="initial-content" class="container initial-content flex-grow-1 py-3">
      <% unless notice.nil? %>
        <p id="notice" class="alert alert-primary"><%= notice %></p>
      <% end %>

      <%= content_for?(:content) ? yield(:content) : yield %>
    </div>
    <footer id="footer" class="footer bg-light shadow-sm py-3 py-md-4 border-top">
      <div class="container">
        <p class="text-muted">
          <a href="https://github.com/iBug/i206hub">Anime Rating Community</a>, a.k.a. "206hub", Copyright &copy; 2020 <a href="https://github.com/iBug">iBug</a>
          <br />
          rev
          <%= link_to "https://github.com/iBug/i206hub/commit/#{git_rev}" do %>
            <code><%= git_rev_short %></code>
          <% end %>
        </p>
      </div>
    </footer>

    <%# jQuery, Popper.js, Bootstrap, Rails UJS, Font Awesome %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/js/all.min.js", crossorigin: "anonymous", async: true %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js", integrity: "sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=", crossorigin: "anonymous" %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/jquery-ujs@1.2.2/src/rails.min.js", crossorigin: "anonymous", async: true %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js", integrity: "sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo", crossorigin: "anonymous", async: true %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js", integrity: "sha256-WqU1JavFxSAMcLP2WIOI+GB2zWmShMI82mTpLDcqFUg=", crossorigin: "anonymous", async: true %>
  </body>
</html>
